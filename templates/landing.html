<!DOCTYPE html>
<html lang="{{ lang }}" dir="{{ 'rtl' if is_rtl else 'ltr' }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ txt.app_name }} | {{ txt.landing_title }}</title>
    <meta name="description" content="{{ txt.landing_subtitle }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Noto+Sans+Arabic:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6366f1; --primary-dark: #4f46e5; --primary-light: #818cf8;
            --bg: #06061a; --bg-card: #0d0d2b; --bg-card-hover: #15153a;
            --text: #e2e8f0; --text-muted: #94a3b8; --border: #1a1a40;
            --green: #10b981; --blue: #3b82f6; --purple: #8b5cf6;
            --orange: #f59e0b; --red: #ef4444; --cyan: #06b6d4; --pink: #ec4899;
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Inter','Noto Sans Arabic',sans-serif; background:var(--bg); color:var(--text); overflow-x:hidden; }

        /* === ANIMATED BACKGROUND === */
        .bg-grid { position:fixed; inset:0; z-index:0; background-image:radial-gradient(circle at 1px 1px, rgba(99,102,241,0.06) 1px, transparent 0); background-size:50px 50px; }
        
        .orb { position:fixed; border-radius:50%; filter:blur(100px); opacity:0.12; z-index:0; animation:orbFloat 20s ease-in-out infinite; }
        .orb-1 { width:500px; height:500px; top:-150px; left:10%; background:var(--primary); animation-delay:0s; }
        .orb-2 { width:400px; height:400px; bottom:10%; right:5%; background:var(--cyan); animation-delay:-7s; }
        .orb-3 { width:350px; height:350px; top:40%; left:50%; background:var(--purple); animation-delay:-14s; }
        @keyframes orbFloat { 0%,100%{transform:translate(0,0) scale(1);} 33%{transform:translate(30px,-40px) scale(1.05);} 66%{transform:translate(-20px,30px) scale(0.95);} }

        /* Floating particles */
        .particles { position:fixed; inset:0; z-index:0; pointer-events:none; }
        .particle { position:absolute; width:3px; height:3px; background:var(--primary-light); border-radius:50%; opacity:0; animation:particleFloat linear infinite; }
        @keyframes particleFloat {
            0% { opacity:0; transform:translateY(100vh) scale(0); }
            10% { opacity:0.6; }
            90% { opacity:0.6; }
            100% { opacity:0; transform:translateY(-20vh) scale(1); }
        }

        /* === NAVIGATION === */
        .nav { position:fixed; top:0; left:0; right:0; z-index:100; padding:1rem 2rem; display:flex; align-items:center; justify-content:space-between; background:rgba(6,6,26,0.7); backdrop-filter:blur(20px); border-bottom:1px solid rgba(99,102,241,0.1); transition:all 0.3s; }
        .nav.scrolled { background:rgba(6,6,26,0.95); box-shadow:0 4px 30px rgba(0,0,0,0.3); }
        .nav-brand { display:flex; align-items:center; gap:0.75rem; text-decoration:none; }
        .nav-brand img { height:42px; border-radius:10px; }
        .nav-brand span { font-size:1.6rem; font-weight:900; background:linear-gradient(135deg,#fff,#818cf8); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
        .nav-right { display:flex; gap:0.6rem; align-items:center; }
        .lang-btn { padding:0.4rem 0.75rem; border-radius:6px; background:rgba(255,255,255,0.05); color:var(--text-muted); text-decoration:none; font-size:0.85rem; border:1px solid transparent; transition:all 0.2s; }
        .lang-btn:hover { border-color:var(--primary); color:var(--primary-light); }
        .lang-btn.active { background:var(--primary); color:#fff; border-color:var(--primary); }
        .btn-nav { padding:0.55rem 1.3rem; border-radius:10px; font-weight:600; text-decoration:none; transition:all 0.3s; font-size:0.9rem; display:inline-flex; align-items:center; gap:0.4rem; }
        .btn-ghost { color:var(--text-muted); border:1px solid var(--border); }
        .btn-ghost:hover { border-color:var(--primary); color:#fff; }
        .btn-glow { background:var(--primary); color:#fff; box-shadow:0 0 20px rgba(99,102,241,0.3); }
        .btn-glow:hover { background:var(--primary-dark); box-shadow:0 0 30px rgba(99,102,241,0.5); transform:translateY(-1px); }

        /* === HERO === */
        .hero { position:relative; z-index:1; min-height:100vh; display:flex; align-items:center; justify-content:center; text-align:center; padding:7rem 2rem 4rem; }
        .hero-inner { max-width:850px; animation:heroFadeIn 1s ease-out; }
        @keyframes heroFadeIn { from{opacity:0;transform:translateY(30px);} to{opacity:1;transform:translateY(0);} }
        .hero-chip { display:inline-flex; align-items:center; gap:0.5rem; padding:0.45rem 1.1rem; border-radius:50px; font-size:0.85rem; background:linear-gradient(135deg,rgba(99,102,241,0.15),rgba(139,92,246,0.1)); border:1px solid rgba(99,102,241,0.25); color:var(--primary-light); margin-bottom:2rem; animation:chipPulse 3s ease-in-out infinite; }
        @keyframes chipPulse { 0%,100%{box-shadow:0 0 0 0 rgba(99,102,241,0.2);} 50%{box-shadow:0 0 0 8px rgba(99,102,241,0);} }
        .hero-chip .dot { width:7px; height:7px; background:var(--green); border-radius:50%; animation:dotBlink 2s infinite; }
        @keyframes dotBlink { 0%,100%{opacity:1;} 50%{opacity:0.3;} }
        .hero h1 { font-size:clamp(2.8rem,6.5vw,4.5rem); font-weight:900; line-height:1.08; margin-bottom:1.5rem; }
        .hero h1 .gradient { background:linear-gradient(135deg,#fff 0%,#c7d2fe 40%,#818cf8 70%,#06b6d4 100%); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-size:200% 200%; animation:gradientShift 6s ease infinite; }
        @keyframes gradientShift { 0%{background-position:0% 50%;} 50%{background-position:100% 50%;} 100%{background-position:0% 50%;} }
        .hero p { font-size:1.2rem; color:var(--text-muted); max-width:620px; margin:0 auto 2.5rem; line-height:1.75; }
        .hero-btns { display:flex; gap:1rem; justify-content:center; flex-wrap:wrap; margin-bottom:3rem; }
        .btn-hero { padding:1rem 2.5rem; border-radius:14px; font-size:1.05rem; font-weight:700; text-decoration:none; transition:all 0.3s; display:inline-flex; align-items:center; gap:0.6rem; }
        .btn-hero-main { background:linear-gradient(135deg,var(--primary),var(--purple)); color:#fff; box-shadow:0 4px 25px rgba(99,102,241,0.4); }
        .btn-hero-main:hover { transform:translateY(-3px); box-shadow:0 8px 40px rgba(99,102,241,0.5); }
        .btn-hero-sec { color:var(--text); border:2px solid var(--border); background:rgba(255,255,255,0.02); }
        .btn-hero-sec:hover { border-color:var(--primary); color:var(--primary-light); background:rgba(99,102,241,0.05); }

        /* Stats bar */
        .hero-stats { display:flex; gap:2.5rem; justify-content:center; flex-wrap:wrap; }
        .hero-stat { text-align:center; }
        .hero-stat .num { font-size:2rem; font-weight:800; color:#fff; }
        .hero-stat .num span { background:linear-gradient(135deg,var(--primary-light),var(--cyan)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
        .hero-stat .lbl { font-size:0.8rem; color:var(--text-muted); margin-top:0.2rem; }

        /* === FEATURES === */
        .section { position:relative; z-index:1; padding:6rem 2rem; max-width:1200px; margin:0 auto; }
        .section-hdr { text-align:center; margin-bottom:3.5rem; }
        .section-hdr h2 { font-size:2.4rem; font-weight:800; margin-bottom:0.6rem; }
        .section-hdr .line { width:60px; height:4px; background:linear-gradient(90deg,var(--primary),var(--cyan)); border-radius:2px; margin:0 auto 1rem; }
        .section-hdr p { color:var(--text-muted); font-size:1.1rem; max-width:600px; margin:0 auto; }

        .feat-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:1.5rem; }
        .feat-card { padding:2rem; border-radius:18px; background:var(--bg-card); border:1px solid var(--border); transition:all 0.4s; position:relative; overflow:hidden; }
        .feat-card::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; background:linear-gradient(90deg,transparent,var(--primary),transparent); opacity:0; transition:opacity 0.4s; }
        .feat-card:hover { transform:translateY(-6px); border-color:rgba(99,102,241,0.3); box-shadow:0 20px 60px rgba(0,0,0,0.3); }
        .feat-card:hover::before { opacity:1; }
        .feat-icon { width:52px; height:52px; border-radius:14px; display:flex; align-items:center; justify-content:center; font-size:1.3rem; margin-bottom:1.3rem; }
        .feat-card:nth-child(1) .feat-icon { background:linear-gradient(135deg,rgba(99,102,241,0.2),rgba(99,102,241,0.05)); color:var(--primary-light); }
        .feat-card:nth-child(2) .feat-icon { background:linear-gradient(135deg,rgba(16,185,129,0.2),rgba(16,185,129,0.05)); color:var(--green); }
        .feat-card:nth-child(3) .feat-icon { background:linear-gradient(135deg,rgba(245,158,11,0.2),rgba(245,158,11,0.05)); color:var(--orange); }
        .feat-card:nth-child(4) .feat-icon { background:linear-gradient(135deg,rgba(239,68,68,0.2),rgba(239,68,68,0.05)); color:var(--red); }
        .feat-card:nth-child(5) .feat-icon { background:linear-gradient(135deg,rgba(6,182,212,0.2),rgba(6,182,212,0.05)); color:var(--cyan); }
        .feat-card:nth-child(6) .feat-icon { background:linear-gradient(135deg,rgba(236,72,153,0.2),rgba(236,72,153,0.05)); color:var(--pink); }
        .feat-card h3 { font-size:1.1rem; margin-bottom:0.6rem; font-weight:700; }
        .feat-card p { color:var(--text-muted); font-size:0.92rem; line-height:1.65; }

        /* === DOMAINS SHOWCASE === */
        .domains-row { display:flex; gap:1rem; justify-content:center; flex-wrap:wrap; margin-top:2rem; }
        .domain-chip { padding:0.7rem 1.4rem; border-radius:12px; background:var(--bg-card); border:1px solid var(--border); display:flex; align-items:center; gap:0.6rem; font-size:0.95rem; font-weight:500; transition:all 0.3s; cursor:default; }
        .domain-chip:hover { border-color:var(--primary); transform:scale(1.05); }
        .domain-chip i { font-size:1.1rem; }
        .domain-chip:nth-child(1) i { color:var(--primary-light); }
        .domain-chip:nth-child(2) i { color:var(--green); }
        .domain-chip:nth-child(3) i { color:var(--orange); }
        .domain-chip:nth-child(4) i { color:var(--cyan); }
        .domain-chip:nth-child(5) i { color:var(--pink); }

        /* === HOW IT WORKS === */
        .steps-container { max-width:750px; margin:0 auto; position:relative; }
        .steps-container::before { content:''; position:absolute; top:24px; bottom:24px; {{ 'right' if is_rtl else 'left' }}:23px; width:2px; background:linear-gradient(180deg,var(--primary),var(--cyan),var(--purple)); border-radius:1px; }
        .step { display:flex; align-items:flex-start; gap:1.5rem; padding:1.5rem 0; position:relative; }
        [dir="rtl"] .step { flex-direction:row-reverse; text-align:right; }
        .step-dot { flex-shrink:0; width:48px; height:48px; border-radius:50%; background:var(--bg); border:2px solid var(--primary); display:flex; align-items:center; justify-content:center; font-weight:800; font-size:1.1rem; color:var(--primary-light); z-index:1; transition:all 0.3s; }
        .step:hover .step-dot { background:var(--primary); color:#fff; box-shadow:0 0 20px rgba(99,102,241,0.4); }
        .step-body h3 { font-size:1.15rem; font-weight:700; margin-bottom:0.3rem; }
        .step-body p { color:var(--text-muted); font-size:0.95rem; line-height:1.6; }

        /* === CTA === */
        .cta { position:relative; z-index:1; text-align:center; padding:6rem 2rem; }
        .cta-box { max-width:700px; margin:0 auto; padding:3.5rem; border-radius:24px; background:linear-gradient(135deg,rgba(99,102,241,0.08),rgba(139,92,246,0.05)); border:1px solid rgba(99,102,241,0.15); }
        .cta-box h2 { font-size:2rem; font-weight:800; margin-bottom:0.75rem; }
        .cta-box p { color:var(--text-muted); margin-bottom:2rem; font-size:1.05rem; }

        /* === FOOTER === */
        footer { position:relative; z-index:1; text-align:center; padding:2rem; border-top:1px solid var(--border); color:var(--text-muted); font-size:0.85rem; }

        /* === RESPONSIVE === */
        @media (max-width:1024px) { .feat-grid { grid-template-columns:repeat(2,1fr); } }
        @media (max-width:768px) {
            .nav { padding:0.75rem 1rem; }
            .nav-brand span { font-size:1.3rem; }
            .hero { padding:5.5rem 1.5rem 3rem; }
            .hero h1 { font-size:2.2rem; }
            .hero-stats { gap:1.5rem; }
            .hero-stat .num { font-size:1.5rem; }
            .feat-grid { grid-template-columns:1fr; }
            .step { flex-direction:column!important; text-align:center!important; align-items:center; }
            .steps-container::before { display:none; }
            .domains-row { gap:0.5rem; }
            .domain-chip { font-size:0.85rem; padding:0.5rem 1rem; }
            .cta-box { padding:2rem 1.5rem; }
        }
        
        /* Scroll reveal animation */
        .reveal { opacity:0; transform:translateY(40px); transition:all 0.8s cubic-bezier(0.4,0,0.2,1); }
        .reveal.visible { opacity:1; transform:translateY(0); }
    </style>
</head>
<body>
    <!-- Background effects -->
    <div class="bg-grid"></div>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
    <div class="particles" id="particles"></div>

    <!-- Navigation -->
    <nav class="nav" id="navbar">
        <a href="/" class="nav-brand">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Mizan">
            <span>{{ txt.app_name }}</span>
        </a>
        <div class="nav-right">
            <a href="{{ url_for('index', lang='en') }}" class="lang-btn {{ 'active' if lang == 'en' else '' }}">EN</a>
            <a href="{{ url_for('index', lang='ar') }}" class="lang-btn {{ 'active' if lang == 'ar' else '' }}">ع</a>
            <a href="{{ url_for('login', lang=lang) }}" class="btn-nav btn-ghost">{{ txt.login }}</a>
            <a href="{{ url_for('login', lang=lang) }}#register" class="btn-nav btn-glow">{{ txt.register }}</a>
        </div>
    </nav>

    <!-- Hero -->
    <section class="hero">
        <div class="hero-inner">
            <div class="hero-chip">
                <div class="dot"></div>
                {% if is_rtl %}مدعوم بالذكاء الاصطناعي{% else %}AI-Powered Platform{% endif %}
            </div>
            <h1><span class="gradient">{{ txt.landing_title }}</span></h1>
            <p>{{ txt.landing_subtitle }}</p>
            <div class="hero-btns">
                <a href="{{ url_for('login', lang=lang) }}#register" class="btn-hero btn-hero-main">
                    {{ txt.landing_cta }} <i class="fas fa-arrow-{{ 'left' if is_rtl else 'right' }}"></i>
                </a>
                <a href="{{ url_for('login', lang=lang) }}" class="btn-hero btn-hero-sec">
                    <i class="fas fa-sign-in-alt"></i> {{ txt.landing_login }}
                </a>
            </div>
            <div class="hero-stats">
                <div class="hero-stat">
                    <div class="num"><span id="count-domains">6</span></div>
                    <div class="lbl">{% if is_rtl %}مجالات حوكمة{% else %}GRC Domains{% endif %}</div>
                </div>
                <div class="hero-stat">
                    <div class="num"><span id="count-templates">180</span>+</div>
                    <div class="lbl">{% if is_rtl %}قالب جاهز{% else %}Templates{% endif %}</div>
                </div>
                <div class="hero-stat">
                    <div class="num"><span id="count-frameworks">25</span>+</div>
                    <div class="lbl">{% if is_rtl %}إطار تنظيمي{% else %}Frameworks{% endif %}</div>
                </div>
                <div class="hero-stat">
                    <div class="num"><span>2</span></div>
                    <div class="lbl">{% if is_rtl %}لغتين (عربي/إنجليزي){% else %}Languages (EN/AR){% endif %}</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Domains Showcase -->
    <section class="section reveal">
        <div class="section-hdr">
            <div class="line"></div>
            <h2>{% if is_rtl %}مجالات الحوكمة{% else %}GRC Domains{% endif %}</h2>
            <p>{{ txt.feature_domains_desc }}</p>
        </div>
        <div class="domains-row">
            <div class="domain-chip"><i class="fas fa-shield-alt"></i> {% if is_rtl %}الأمن السيبراني{% else %}Cyber Security{% endif %}</div>
            <div class="domain-chip"><i class="fas fa-database"></i> {% if is_rtl %}إدارة البيانات{% else %}Data Management{% endif %}</div>
            <div class="domain-chip"><i class="fas fa-robot"></i> {% if is_rtl %}الذكاء الاصطناعي{% else %}Artificial Intelligence{% endif %}</div>
            <div class="domain-chip"><i class="fas fa-digital-tachograph"></i> {% if is_rtl %}التحول الرقمي{% else %}Digital Transformation{% endif %}</div>
            <div class="domain-chip"><i class="fas fa-globe"></i> {% if is_rtl %}المعايير العالمية{% else %}Global Standards{% endif %}</div>
            <div class="domain-chip"><i class="fas fa-exclamation-triangle"></i> {% if is_rtl %}إدارة المخاطر المؤسسية{% else %}Enterprise Risk Management{% endif %}</div>
        </div>
    </section>

    <!-- Features -->
    <section class="section reveal">
        <div class="section-hdr">
            <div class="line"></div>
            <h2>{% if is_rtl %}لماذا ميزان؟{% else %}Why Mizan?{% endif %}</h2>
            <p>{{ txt.trusted_by }}</p>
        </div>
        <div class="feat-grid">
            <div class="feat-card">
                <div class="feat-icon"><i class="fas fa-brain"></i></div>
                <h3>{{ txt.feature_ai }}</h3>
                <p>{{ txt.feature_ai_desc }}</p>
            </div>
            <div class="feat-card">
                <div class="feat-icon"><i class="fas fa-th-large"></i></div>
                <h3>{{ txt.feature_domains }}</h3>
                <p>{{ txt.feature_domains_desc }}</p>
            </div>
            <div class="feat-card">
                <div class="feat-icon"><i class="fas fa-language"></i></div>
                <h3>{{ txt.feature_bilingual }}</h3>
                <p>{{ txt.feature_bilingual_desc }}</p>
            </div>
            <div class="feat-card">
                <div class="feat-icon"><i class="fas fa-file-export"></i></div>
                <h3>{{ txt.feature_export }}</h3>
                <p>{{ txt.feature_export_desc }}</p>
            </div>
            <div class="feat-card">
                <div class="feat-icon"><i class="fas fa-chart-pie"></i></div>
                <h3>{{ txt.feature_analytics }}</h3>
                <p>{{ txt.feature_analytics_desc }}</p>
            </div>
            <div class="feat-card">
                <div class="feat-icon"><i class="fas fa-copy"></i></div>
                <h3>{{ txt.feature_templates }}</h3>
                <p>{{ txt.feature_templates_desc }}</p>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="section reveal">
        <div class="section-hdr">
            <div class="line"></div>
            <h2>{{ txt.how_it_works }}</h2>
        </div>
        <div class="steps-container">
            <div class="step">
                <div class="step-dot">1</div>
                <div class="step-body"><h3>{{ txt.step1_title }}</h3><p>{{ txt.step1_desc }}</p></div>
            </div>
            <div class="step">
                <div class="step-dot">2</div>
                <div class="step-body"><h3>{{ txt.step2_title }}</h3><p>{{ txt.step2_desc }}</p></div>
            </div>
            <div class="step">
                <div class="step-dot">3</div>
                <div class="step-body"><h3>{{ txt.step3_title }}</h3><p>{{ txt.step3_desc }}</p></div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta reveal">
        <div class="cta-box">
            <h2>{% if is_rtl %}ابدأ رحلتك في الحوكمة اليوم{% else %}Start Your GRC Journey Today{% endif %}</h2>
            <p>{% if is_rtl %}انضم إلى المتخصصين الذين يستخدمون ميزان لإدارة الحوكمة والمخاطر والامتثال{% else %}Join professionals using Mizan to manage governance, risk & compliance{% endif %}</p>
            <a href="{{ url_for('login', lang=lang) }}#register" class="btn-hero btn-hero-main">
                {{ txt.landing_cta }} <i class="fas fa-rocket"></i>
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>{{ txt.created_by }} {{ config.CREATOR_NAME_AR if is_rtl else config.CREATOR_NAME }} &bull; © {{ config.COPYRIGHT_YEAR }} {{ txt.app_name }}</p>
    </footer>

    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 50);
        });

        // Scroll reveal
        const reveals = document.querySelectorAll('.reveal');
        const revealObs = new IntersectionObserver((entries) => {
            entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); } });
        }, { threshold: 0.15 });
        reveals.forEach(el => revealObs.observe(el));

        // Floating particles
        (function() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 30; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.animationDuration = (8 + Math.random() * 15) + 's';
                p.style.animationDelay = (Math.random() * 10) + 's';
                p.style.width = p.style.height = (2 + Math.random() * 3) + 'px';
                container.appendChild(p);
            }
        })();

        // Counter animation
        function animateCount(id, target) {
            const el = document.getElementById(id);
            if (!el) return;
            let current = 0;
            const step = Math.max(1, Math.floor(target / 40));
            const timer = setInterval(() => {
                current += step;
                if (current >= target) { current = target; clearInterval(timer); }
                el.textContent = current;
            }, 30);
        }
        const counterObs = new IntersectionObserver((entries) => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    animateCount('count-domains', 6);
                    animateCount('count-templates', 180);
                    animateCount('count-frameworks', 25);
                    counterObs.disconnect();
                }
            });
        }, { threshold: 0.5 });
        const statEl = document.querySelector('.hero-stats');
        if (statEl) counterObs.observe(statEl);
    </script>
</body>
</html>
